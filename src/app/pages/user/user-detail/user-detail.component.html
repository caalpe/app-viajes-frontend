<div class="user-detail-wrapper">
  <div class="user-detail-header">
    <div class="header-content">
      <h1 class="header-title">Mi Perfil</h1>
      <p class="header-subtitle">Información de tu cuenta</p>
    </div>
  </div>

  <div class="user-detail-container">
    @if (isLoading) {
      <div class="loading-container">
        <div class="spinner"></div>
        <p>Cargando datos del perfil...</p>
      </div>
    } @else if (user) {
      <div class="card user-card">
        <div class="card-body">
          <div class="detail-header">
            <div class="detail-content">
              <h2 class="detail-title">Información Personal</h2>
            </div>

            <!-- User Image -->
            @if (user.photo_url) {
              <div class="user-image-box">
                <img [src]="user.photo_url" alt="Foto de perfil" class="user-image" />
              </div>
            }
          </div>

          <!-- User Info -->
          <div class="user-info">
            <!-- Name -->
            <div class="info-section">
              <label class="info-label">Nombre Completo</label>
              <p class="info-value">{{ user.name }}</p>
            </div>

            <!-- Email -->
            <div class="info-section">
              <label class="info-label">Correo Electrónico</label>
              <p class="info-value">{{ user.email }}</p>
            </div>

            <!-- Phone -->
            @if (user.phone) {
              <div class="info-section">
                <label class="info-label">Teléfono</label>
                <p class="info-value">{{ user.phone }}</p>
              </div>
            }

            <!-- Bio -->
            @if (user.bio) {
              <div class="info-section">
                <label class="info-label">Biografía</label>
                <p class="info-value">{{ user.bio }}</p>
              </div>
            }

            <!-- Interests -->
            @if (user.interests) {
              <div class="info-section">
                <label class="info-label">Intereses</label>
                <p class="info-value">{{ user.interests }}</p>
              </div>
            }

            <!-- Created At -->
            @if (user.created_at) {
              <div class="info-section">
                <label class="info-label">Miembro desde</label>
                <p class="info-value">{{ formatDate(user.created_at) }}</p>
              </div>
            }
          </div>

          <!-- Actions -->
          <div class="detail-actions">
            <button
              type="button"
              class="btn btn-secondary"
              (click)="onBack()"
            >
              Volver
            </button>
            <button
              type="button"
              class="btn btn-primary"
              (click)="onEditProfile()"
            >
              <i class="bi bi-pencil"></i> Editar Perfil
            </button>
          </div>
        </div>
      </div>
    }
  </div>
</div>

<!-- Modal Alert -->
<app-modal-alert
  [isVisible]="modalVisible"
  [title]="modalTitle"
  [message]="modalMessage"
  [type]="modalType"
  [redirectUrl]="modalRedirectUrl"
  (onClose)="onModalClose()"
></app-modal-alert>

